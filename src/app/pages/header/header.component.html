<!-- header.component.html -->
<header *ngIf="!showCompactHeader" class="sticky top-0 z-50 bg-[#F5F6F7] shadow-sm">
  <div class="w-full">
    <div class="flex justify-around items-center h-20">
      <!-- Logo -->

      <div class="flex items-center">
        <img (click)="main_page()" class="h-18 w-40" src="assets/images/sap_logo.png" alt="Logo" />
        <!-- Nav Links -->
        <nav class="hidden md:flex space-x-8">
          <!-- SAP Functionals -->
          <div class="relative group" *ngFor="let category of categories">
            <a routerLink="/dashboard"
              class="text-[20px] font-sans text-[#354A5F] cursor-pointer hover:text-blue-600 flex items-center">
              {{category.name}}
            </a>

            <!-- Dropdown -->
            <div  
              class="absolute top-full left-0 mt-2 w-56 bg-white shadow-lg rounded-lg p-2 z-50 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200">
              <a routerLink="/dashboard/fi" *ngFor="let subCategory of category.subCategories"  (click)="navigateToBlogListPage(subCategory)"
                class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md">{{subCategory.name}}</a>
          
              </div>
          </div>

        </nav>




      </div>


      <!-- Right Actions -->
      <div class="flex items-center space-x-4">
<a href="https://www.sap.com/mena/about/what-is-sap.html" target="_blank" rel="noopener noreferrer"
  class="text-[20px] font-sans text-[#354A5F] cursor-pointer hover:text-blue-600">
  Explore SAP
</a>
        <!-- <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
          class="w-6 h-6 text-[#354A5F] cursor-pointer hover:text-blue-600">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M21 21l-4.35-4.35m0 0A7.5 7.5 0 1110.5 3a7.5 7.5 0 016.15 13.65z" />
        </svg> -->

        <div class="relative group hidden md:block">
          <button>
            <i class="fa-regular fa-user text-2xl text-[#354A5F] cursor-pointer hover:text-blue-600"></i>
          </button>

          <div
            class="absolute top-full right-0 mt-2 w-52 bg-white shadow-lg rounded-lg p-4 z-50 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200">
            <!-- Login Button -->
 <a (click)="login()"
   class="block w-full text-center px-4 py-2 mb-2 text-sm font-medium text-white  bg-blue-600 rounded-md hover:bg-blue-700 transition">
   Login
</a>
            <!-- Register Button -->
            <a (click)="register()" 
              class="block w-full text-center px-4 py-2 text-sm font-medium text-[#354A5F] border border-[#354A5F] rounded-md hover:bg-gray-100 transition">
              Register
            </a>
          </div>
        </div>
        <!-- User Icon (only mobile) -->
        <button class="md:hidden focus:outline-none" (click)="isUserMenuOpen = !isUserMenuOpen; isMenuOpen = false">
          <i class="fa-regular fa-user text-2xl   text-[#354A5F] cursor-pointer hover:text-blue-600 "></i>
        </button>
        <!-- Hamburger (only mobile) -->
        <button class="md:hidden focus:outline-none" (click)="isMenuOpen = !isMenuOpen;isUserMenuOpen = false">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-[#354A5F]" fill="none" viewBox="0 0 24 24"
            stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </div>
    </div>
  </div>


  <!-- Mobile Menu Drawer -->
  <div *ngIf="isMenuOpen" class="md:hidden absolute top-20 left-0 w-full bg-white shadow-lg z-50">
  <ul class="flex flex-col divide-y divide-gray-200">
    <!-- Loop categories -->
    <li *ngFor="let cat of categories">
      <button (click)="toggleSubmenu(cat._id)"
        class="w-full text-left px-4 py-3 text-[#354A5F] font-semibold flex justify-between items-center">
        {{ cat.name }}
        <span [class.rotate-180]="openSubmenu===cat._id" class="transition-transform">&#9662;</span>
      </button>

      <!-- Subcategories -->
      <ul *ngIf="openSubmenu===cat._id" class="bg-gray-50">
        <li *ngFor="let sub of cat.subCategories">
       <a  (click)="navigateToBlogListPage(sub)" class="block px-6 py-2 text-[#4B5563]">
  {{ sub.name }}
</a>
        </li>
      </ul>
    </li>
  </ul>
</div>

  <div *ngIf="isUserMenuOpen" class="md:hidden absolute top-20 left-0 w-full bg-white shadow-lg z-50">
    <ul class="flex flex-col divide-y divide-gray-200">
      <!-- Parent Item -->
      <li>
       <a  (click)="login()"  
   class="w-full text-left px-4 py-3 text-[#354A5F] font-semibold flex justify-between items-center">
  Login
</a>

      </li>

      <li>
      <a  (click)="register()"  
   class="w-full text-left px-4 py-3 text-[#354A5F] font-semibold flex justify-between items-center">
  Register
</a>
      </li>
    </ul>
  </div>
</header>



<!-- Compact Header -->
<header
  *ngIf="showCompactHeader"
  class="sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-gray-200 shadow-sm"
>
  <div
    class="relative max-w-7xl mx-auto flex items-center justify-center px-4 sm:px-6 py-3"
  >
    <!-- Left: Logo -->
    <a
      routerLink="/"
      class="absolute left-4 sm:left-6 flex items-center"
    >
      <img
        src="assets/images/sap_logo.png"
        alt="Blog Logo"
        class="h-9 w-auto object-contain"
      />
    </a>

    <!-- Center: Title -->
    <h1
      class="font-semibold text-2xl bg-gradient-to-r from-[#0040b0] to-[#1cccb7] bg-clip-text text-transparent"
    >
      {{ title }}
    </h1>

    <!-- Right: Home Icon -->
    <a
      routerLink="/"
      class="absolute right-4 sm:right-6 text-gray-600 hover:text-blue-600 transition"
      title="Home"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
        fill="currentColor"
        class="w-6 h-6"
      >
        <path
          d="M11.47 2.72a.75.75 0 0 1 1.06 0l8.25 8.25a.75.75 0 0 1-1.06 1.06L19 11.06v8.69a1.25 1.25 0 0 1-1.25 1.25h-3.5a.75.75 0 0 1-.75-.75v-4.5a1.75 1.75 0 0 0-1.75-1.75h-1.5A1.75 1.75 0 0 0 8.5 15.75v4.5a.75.75 0 0 1-.75.75h-3.5A1.25 1.25 0 0 1 3 19.75v-8.69l-0.72.97a.75.75 0 0 1-1.06-1.06l8.25-8.25Z"
        />
      </svg>
    </a>
  </div>
</header>